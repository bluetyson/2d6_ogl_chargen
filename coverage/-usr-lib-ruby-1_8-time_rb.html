<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>/usr/lib/ruby/1.8/time.rb</title>
    <link href="screen.css" media="all" rel="stylesheet" type="text/css" />
    <link href="print.css" media="print" rel="stylesheet" type="text/css" />
    
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
    <script type="text/javascript" src="rcov.js"></script>
  </head>
  <body>
    <h1>Ct Character Generator C0 Coverage Information - RCov</h1>
    <h2>/usr/lib/ruby/1.8/time.rb</h2>

    

    <div class="report_table_wrapper">
      <table class='report' id='report_table'>
        <thead>
          <tr>
            <th class="left_align">Name</th>
            <th class="right_align">Total Lines</th>
            <th class="right_align">Lines of Code</th>
            <th class="left_align">Total Coverage</th>
            <th class="left_align">Code Coverage</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="left_align"><a href="-usr-lib-ruby-1_8-time_rb.html">/usr/lib/ruby/1.8/time.rb</a></td>
            <td class='right_align'><tt>799</tt></td>
            <td class='right_align'><tt>583</tt></td>
            <td class="left_align"><div class="percent_graph_legend"><tt class=''>29.16%</tt></div>
          <div class="percent_graph">
            <div class="covered" style="width:29px"></div>
            <div class="uncovered" style="width:71px"></div>
          </div></td>
            <td class="left_align"><div class="percent_graph_legend"><tt class=''>9.78%</tt></div>
          <div class="percent_graph">
            <div class="covered" style="width:10px"></div>
            <div class="uncovered" style="width:90px"></div>
          </div></td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <h3>Key</h3>
    
    <div class="key"><pre><span class='marked'>Code reported as executed by Ruby looks like this...</span><span class='marked1'>and this: this line is also marked as covered.</span><span class='inferred'>Lines considered as run by rcov, but not reported by Ruby, look like this,</span><span class='inferred1'>and this: these lines were inferred by rcov (using simple heuristics).</span><span class='uncovered'>Finally, here's a line marked as not executed.</span></pre></div>

    <h3>Coverage Details</h3>

    <table class="details">
      <tbody>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line1">1</a> </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line2">2</a> #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line3">3</a> # == Introduction</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line4">4</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line5">5</a> # This library extends the Time class:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line6">6</a> # * conversion between date string and time object.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line7">7</a> #   * date-time defined by RFC 2822</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line8">8</a> #   * HTTP-date defined by RFC 2616</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line9">9</a> #   * dateTime defined by XML Schema Part 2: Datatypes (ISO 8601)</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line10">10</a> #   * various formats handled by Date._parse (string to time only)</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line11">11</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line12">12</a> # == Design Issues</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line13">13</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line14">14</a> # === Specialized interface</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line15">15</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line16">16</a> # This library provides methods dedicated to special purposes:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line17">17</a> # * RFC 2822, RFC 2616 and XML Schema.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line18">18</a> # * They makes usual life easier.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line19">19</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line20">20</a> # === Doesn't depend on strftime</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line21">21</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line22">22</a> # This library doesn't use +strftime+.  Especially #rfc2822 doesn't depend</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line23">23</a> # on +strftime+ because:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line24">24</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line25">25</a> # * %a and %b are locale sensitive</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line26">26</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line27">27</a> #   Since they are locale sensitive, they may be replaced to</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line28">28</a> #   invalid weekday/month name in some locales.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line29">29</a> #   Since ruby-1.6 doesn't invoke setlocale by default,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line30">30</a> #   the problem doesn't arise until some external library invokes setlocale.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line31">31</a> #   Ruby/GTK is the example of such library.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line32">32</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line33">33</a> # * %z is not portable</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line34">34</a> # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line35">35</a> #   %z is required to generate zone in date-time of RFC 2822</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line36">36</a> #   but it is not portable.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line37">37</a> #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line38">38</a> # == Revision Information</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line39">39</a> #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line40">40</a> # $Id$</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line41">41</a> #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line42">42</a> </pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line43">43</a> require 'parsedate'</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line44">44</a> </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line45">45</a> #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line46">46</a> # Implements the extensions to the Time class that are described in the</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line47">47</a> # documentation for the time.rb library.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line48">48</a> #</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line49">49</a> class Time</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line50">50</a>   class &lt;&lt; Time</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line51">51</a> </pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line52">52</a>     ZoneOffset = {</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line53">53</a>       'UTC' =&gt; 0,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line54">54</a>       # ISO 8601</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line55">55</a>       'Z' =&gt; 0,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line56">56</a>       # RFC 822</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line57">57</a>       'UT' =&gt; 0, 'GMT' =&gt; 0,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line58">58</a>       'EST' =&gt; -5, 'EDT' =&gt; -4,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line59">59</a>       'CST' =&gt; -6, 'CDT' =&gt; -5,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line60">60</a>       'MST' =&gt; -7, 'MDT' =&gt; -6,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line61">61</a>       'PST' =&gt; -8, 'PDT' =&gt; -7,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line62">62</a>       # Following definition of military zones is original one.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line63">63</a>       # See RFC 1123 and RFC 2822 for the error in RFC 822.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line64">64</a>       'A' =&gt; +1, 'B' =&gt; +2, 'C' =&gt; +3, 'D' =&gt; +4,  'E' =&gt; +5,  'F' =&gt; +6, </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line65">65</a>       'G' =&gt; +7, 'H' =&gt; +8, 'I' =&gt; +9, 'K' =&gt; +10, 'L' =&gt; +11, 'M' =&gt; +12,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line66">66</a>       'N' =&gt; -1, 'O' =&gt; -2, 'P' =&gt; -3, 'Q' =&gt; -4,  'R' =&gt; -5,  'S' =&gt; -6, </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line67">67</a>       'T' =&gt; -7, 'U' =&gt; -8, 'V' =&gt; -9, 'W' =&gt; -10, 'X' =&gt; -11, 'Y' =&gt; -12,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line68">68</a>     }</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line69">69</a>     def zone_offset(zone, year=self.now.year)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line70">70</a>       off = nil</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line71">71</a>       zone = zone.upcase</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line72">72</a>       if /\A([+-])(\d\d):?(\d\d)\z/ =~ zone</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line73">73</a>         off = ($1 == '-' ? -1 : 1) * ($2.to_i * 60 + $3.to_i) * 60</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line74">74</a>       elsif /\A[+-]\d\d\z/ =~ zone</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line75">75</a>         off = zone.to_i * 3600</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line76">76</a>       elsif ZoneOffset.include?(zone)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line77">77</a>         off = ZoneOffset[zone] * 3600</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line78">78</a>       elsif ((t = self.local(year, 1, 1)).zone.upcase == zone rescue false)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line79">79</a>         off = t.utc_offset</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line80">80</a>       elsif ((t = self.local(year, 7, 1)).zone.upcase == zone rescue false)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line81">81</a>         off = t.utc_offset</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line82">82</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line83">83</a>       off</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line84">84</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line85">85</a> </pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line86">86</a>     def zone_utc?(zone)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line87">87</a>       # * +0000 means localtime. [RFC 2822]</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line88">88</a>       # * GMT is a localtime abbreviation in Europe/London, etc.</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line89">89</a>       if /\A(?:-00:00|-0000|-00|UTC|Z|UT)\z/i =~ zone</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line90">90</a>         true</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line91">91</a>       else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line92">92</a>         false</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line93">93</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line94">94</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line95">95</a>     private :zone_utc?</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line96">96</a> </pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line97">97</a>     LeapYearMonthDays = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line98">98</a>     CommonYearMonthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line99">99</a>     def month_days(y, m)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line100">100</a>       if ((y % 4 == 0) &amp;&amp; (y % 100 != 0)) || (y % 400 == 0)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line101">101</a>         LeapYearMonthDays[m-1]</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line102">102</a>       else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line103">103</a>         CommonYearMonthDays[m-1]</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line104">104</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line105">105</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line106">106</a>     private :month_days</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line107">107</a> </pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line108">108</a>     def apply_offset(year, mon, day, hour, min, sec, off)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line109">109</a>       if off &lt; 0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line110">110</a>         off = -off</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line111">111</a>         off, o = off.divmod(60)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line112">112</a>         if o != 0 then sec += o; o, sec = sec.divmod(60); off += o end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line113">113</a>         off, o = off.divmod(60)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line114">114</a>         if o != 0 then min += o; o, min = min.divmod(60); off += o end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line115">115</a>         off, o = off.divmod(24)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line116">116</a>         if o != 0 then hour += o; o, hour = hour.divmod(24); off += o end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line117">117</a>         if off != 0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line118">118</a>           day += off</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line119">119</a>           if month_days(year, mon) &lt; day</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line120">120</a>             mon += 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line121">121</a>             if 12 &lt; mon</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line122">122</a>               mon = 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line123">123</a>               year += 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line124">124</a>             end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line125">125</a>             day = 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line126">126</a>           end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line127">127</a>         end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line128">128</a>       elsif 0 &lt; off</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line129">129</a>         off, o = off.divmod(60)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line130">130</a>         if o != 0 then sec -= o; o, sec = sec.divmod(60); off -= o end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line131">131</a>         off, o = off.divmod(60)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line132">132</a>         if o != 0 then min -= o; o, min = min.divmod(60); off -= o end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line133">133</a>         off, o = off.divmod(24)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line134">134</a>         if o != 0 then hour -= o; o, hour = hour.divmod(24); off -= o end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line135">135</a>         if off != 0 then</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line136">136</a>           day -= off</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line137">137</a>           if day &lt; 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line138">138</a>             mon -= 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line139">139</a>             if mon &lt; 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line140">140</a>               year -= 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line141">141</a>               mon = 12</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line142">142</a>             end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line143">143</a>             day = month_days(year, mon)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line144">144</a>           end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line145">145</a>         end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line146">146</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line147">147</a>       return year, mon, day, hour, min, sec</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line148">148</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line149">149</a>     private :apply_offset</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line150">150</a> </pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line151">151</a>     def make_time(year, mon, day, hour, min, sec, sec_fraction, zone, now)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line152">152</a>       usec = nil</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line153">153</a>       usec = (sec_fraction * 1000000).to_i if sec_fraction</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line154">154</a>       if now</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line155">155</a>         begin</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line156">156</a>           break if year; year = now.year</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line157">157</a>           break if mon; mon = now.mon</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line158">158</a>           break if day; day = now.day</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line159">159</a>           break if hour; hour = now.hour</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line160">160</a>           break if min; min = now.min</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line161">161</a>           break if sec; sec = now.sec</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line162">162</a>           break if sec_fraction; usec = now.tv_usec</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line163">163</a>         end until true</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line164">164</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line165">165</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line166">166</a>       year ||= 1970</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line167">167</a>       mon ||= 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line168">168</a>       day ||= 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line169">169</a>       hour ||= 0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line170">170</a>       min ||= 0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line171">171</a>       sec ||= 0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line172">172</a>       usec ||= 0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line173">173</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line174">174</a>       off = nil</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line175">175</a>       off = zone_offset(zone, year) if zone</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line176">176</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line177">177</a>       if off</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line178">178</a>         year, mon, day, hour, min, sec =</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line179">179</a>           apply_offset(year, mon, day, hour, min, sec, off)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line180">180</a>         t = self.utc(year, mon, day, hour, min, sec, usec)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line181">181</a>         t.localtime if !zone_utc?(zone)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line182">182</a>         t</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line183">183</a>       else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line184">184</a>         self.local(year, mon, day, hour, min, sec, usec)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line185">185</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line186">186</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line187">187</a>     private :make_time</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line188">188</a> </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line189">189</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line190">190</a>     # Parses +date+ using Date._parse and converts it to a Time object.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line191">191</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line192">192</a>     # If a block is given, the year described in +date+ is converted by the</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line193">193</a>     # block.  For example:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line194">194</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line195">195</a>     #     Time.parse(...) {|y| y &lt; 100 ? (y &gt;= 69 ? y + 1900 : y + 2000) : y}</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line196">196</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line197">197</a>     # If the upper components of the given time are broken or missing, they are</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line198">198</a>     # supplied with those of +now+.  For the lower components, the minimum</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line199">199</a>     # values (1 or 0) are assumed if broken or missing.  For example:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line200">200</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line201">201</a>     #     # Suppose it is &quot;Thu Nov 29 14:33:20 GMT 2001&quot; now and</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line202">202</a>     #     # your timezone is GMT:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line203">203</a>     #     Time.parse(&quot;16:30&quot;)     #=&gt; Thu Nov 29 16:30:00 GMT 2001</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line204">204</a>     #     Time.parse(&quot;7/23&quot;)      #=&gt; Mon Jul 23 00:00:00 GMT 2001</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line205">205</a>     #     Time.parse(&quot;Aug 31&quot;)    #=&gt; Fri Aug 31 00:00:00 GMT 2001</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line206">206</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line207">207</a>     # Since there are numerous conflicts among locally defined timezone</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line208">208</a>     # abbreviations all over the world, this method is not made to</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line209">209</a>     # understand all of them.  For example, the abbreviation &quot;CST&quot; is</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line210">210</a>     # used variously as:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line211">211</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line212">212</a>     #     -06:00 in America/Chicago,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line213">213</a>     #     -05:00 in America/Havana,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line214">214</a>     #     +08:00 in Asia/Harbin,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line215">215</a>     #     +09:30 in Australia/Darwin,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line216">216</a>     #     +10:30 in Australia/Adelaide,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line217">217</a>     #     etc.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line218">218</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line219">219</a>     # Based on the fact, this method only understands the timezone</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line220">220</a>     # abbreviations described in RFC 822 and the system timezone, in the</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line221">221</a>     # order named. (i.e. a definition in RFC 822 overrides the system</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line222">222</a>     # timezone definition.)  The system timezone is taken from</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line223">223</a>     # &lt;tt&gt;Time.local(year, 1, 1).zone&lt;/tt&gt; and</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line224">224</a>     # &lt;tt&gt;Time.local(year, 7, 1).zone&lt;/tt&gt;.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line225">225</a>     # If the extracted timezone abbreviation does not match any of them,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line226">226</a>     # it is ignored and the given time is regarded as a local time.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line227">227</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line228">228</a>     # ArgumentError is raised if Date._parse cannot extract information from</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line229">229</a>     # +date+ or Time class cannot represent specified date.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line230">230</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line231">231</a>     # This method can be used as fail-safe for other parsing methods as:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line232">232</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line233">233</a>     #   Time.rfc2822(date) rescue Time.parse(date)</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line234">234</a>     #   Time.httpdate(date) rescue Time.parse(date)</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line235">235</a>     #   Time.xmlschema(date) rescue Time.parse(date)</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line236">236</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line237">237</a>     # A failure for Time.parse should be checked, though.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line238">238</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line239">239</a>     def parse(date, now=self.now)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line240">240</a>       d = Date._parse(date, false)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line241">241</a>       year = d[:year]</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line242">242</a>       year = yield(year) if year &amp;&amp; block_given?</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line243">243</a>       make_time(year, d[:mon], d[:mday], d[:hour], d[:min], d[:sec], d[:sec_fraction], d[:zone], now)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line244">244</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line245">245</a> </pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line246">246</a>     MonthValue = {</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line247">247</a>       'JAN' =&gt; 1, 'FEB' =&gt; 2, 'MAR' =&gt; 3, 'APR' =&gt; 4, 'MAY' =&gt; 5, 'JUN' =&gt; 6,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line248">248</a>       'JUL' =&gt; 7, 'AUG' =&gt; 8, 'SEP' =&gt; 9, 'OCT' =&gt;10, 'NOV' =&gt;11, 'DEC' =&gt;12</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line249">249</a>     }</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line250">250</a> </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line251">251</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line252">252</a>     # Parses +date+ as date-time defined by RFC 2822 and converts it to a Time</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line253">253</a>     # object.  The format is identical to the date format defined by RFC 822 and</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line254">254</a>     # updated by RFC 1123.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line255">255</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line256">256</a>     # ArgumentError is raised if +date+ is not compliant with RFC 2822</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line257">257</a>     # or Time class cannot represent specified date.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line258">258</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line259">259</a>     # See #rfc2822 for more information on this format.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line260">260</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line261">261</a>     def rfc2822(date)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line262">262</a>       if /\A\s*</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line263">263</a>           (?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\s*,\s*)?</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line264">264</a>           (\d{1,2})\s+</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line265">265</a>           (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line266">266</a>           (\d{2,})\s+</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line267">267</a>           (\d{2})\s*</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line268">268</a>           :\s*(\d{2})\s*</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line269">269</a>           (?::\s*(\d{2}))?\s+</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line270">270</a>           ([+-]\d{4}|</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line271">271</a>            UT|GMT|EST|EDT|CST|CDT|MST|MDT|PST|PDT|[A-IK-Z])/ix =~ date</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line272">272</a>         # Since RFC 2822 permit comments, the regexp has no right anchor.</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line273">273</a>         day = $1.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line274">274</a>         mon = MonthValue[$2.upcase]</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line275">275</a>         year = $3.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line276">276</a>         hour = $4.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line277">277</a>         min = $5.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line278">278</a>         sec = $6 ? $6.to_i : 0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line279">279</a>         zone = $7</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line280">280</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line281">281</a>         # following year completion is compliant with RFC 2822.</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line282">282</a>         year = if year &lt; 50</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line283">283</a>                  2000 + year</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line284">284</a>                elsif year &lt; 1000</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line285">285</a>                  1900 + year</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line286">286</a>                else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line287">287</a>                  year</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line288">288</a>                end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line289">289</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line290">290</a>         year, mon, day, hour, min, sec =</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line291">291</a>           apply_offset(year, mon, day, hour, min, sec, zone_offset(zone))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line292">292</a>         t = self.utc(year, mon, day, hour, min, sec)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line293">293</a>         t.localtime if !zone_utc?(zone)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line294">294</a>         t</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line295">295</a>       else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line296">296</a>         raise ArgumentError.new(&quot;not RFC 2822 compliant date: #{date.inspect}&quot;)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line297">297</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line298">298</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line299">299</a>     alias rfc822 rfc2822</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line300">300</a> </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line301">301</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line302">302</a>     # Parses +date+ as HTTP-date defined by RFC 2616 and converts it to a Time</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line303">303</a>     # object.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line304">304</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line305">305</a>     # ArgumentError is raised if +date+ is not compliant with RFC 2616 or Time</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line306">306</a>     # class cannot represent specified date.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line307">307</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line308">308</a>     # See #httpdate for more information on this format.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line309">309</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line310">310</a>     def httpdate(date)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line311">311</a>       if /\A\s*</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line312">312</a>           (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line313">313</a>           (\d{2})\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line314">314</a>           (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line315">315</a>           (\d{4})\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line316">316</a>           (\d{2}):(\d{2}):(\d{2})\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line317">317</a>           GMT</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line318">318</a>           \s*\z/ix =~ date</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line319">319</a>         self.rfc2822(date)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line320">320</a>       elsif /\A\s*</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line321">321</a>              (?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday),\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line322">322</a>              (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d)\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line323">323</a>              (\d\d):(\d\d):(\d\d)\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line324">324</a>              GMT</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line325">325</a>              \s*\z/ix =~ date</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line326">326</a>         self.parse(date)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line327">327</a>       elsif /\A\s*</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line328">328</a>              (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line329">329</a>              (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line330">330</a>              (\d\d|\x20\d)\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line331">331</a>              (\d\d):(\d\d):(\d\d)\x20</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line332">332</a>              (\d{4})</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line333">333</a>              \s*\z/ix =~ date</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line334">334</a>         self.utc($6.to_i, MonthValue[$1.upcase], $2.to_i,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line335">335</a>                  $3.to_i, $4.to_i, $5.to_i)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line336">336</a>       else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line337">337</a>         raise ArgumentError.new(&quot;not RFC 2616 compliant date: #{date.inspect}&quot;)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line338">338</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line339">339</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line340">340</a> </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line341">341</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line342">342</a>     # Parses +date+ as dateTime defined by XML Schema and converts it to a Time</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line343">343</a>     # object.  The format is restricted version of the format defined by ISO</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line344">344</a>     # 8601.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line345">345</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line346">346</a>     # ArgumentError is raised if +date+ is not compliant with the format or Time</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line347">347</a>     # class cannot represent specified date.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line348">348</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line349">349</a>     # See #xmlschema for more information on this format.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line350">350</a>     #</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line351">351</a>     def xmlschema(date)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line352">352</a>       if /\A\s*</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line353">353</a>           (-?\d+)-(\d\d)-(\d\d)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line354">354</a>           T</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line355">355</a>           (\d\d):(\d\d):(\d\d)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line356">356</a>           (\.\d*)?</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line357">357</a>           (Z|[+-]\d\d:\d\d)?</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line358">358</a>           \s*\z/ix =~ date</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line359">359</a>         year = $1.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line360">360</a>         mon = $2.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line361">361</a>         day = $3.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line362">362</a>         hour = $4.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line363">363</a>         min = $5.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line364">364</a>         sec = $6.to_i</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line365">365</a>         usec = 0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line366">366</a>         usec = ($7[1..-1] + '000000')[0,6].to_i if $7</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line367">367</a>         if $8</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line368">368</a>           zone = $8</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line369">369</a>           year, mon, day, hour, min, sec =</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line370">370</a>             apply_offset(year, mon, day, hour, min, sec, zone_offset(zone))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line371">371</a>           self.utc(year, mon, day, hour, min, sec, usec)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line372">372</a>         else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line373">373</a>           self.local(year, mon, day, hour, min, sec, usec)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line374">374</a>         end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line375">375</a>       else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line376">376</a>         raise ArgumentError.new(&quot;invalid date: #{date.inspect}&quot;)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line377">377</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line378">378</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line379">379</a>     alias iso8601 xmlschema</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line380">380</a>   end # class &lt;&lt; self</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line381">381</a> </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line382">382</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line383">383</a>   # Returns a string which represents the time as date-time defined by RFC 2822:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line384">384</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line385">385</a>   #   day-of-week, DD month-name CCYY hh:mm:ss zone</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line386">386</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line387">387</a>   # where zone is [+-]hhmm.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line388">388</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line389">389</a>   # If +self+ is a UTC time, -0000 is used as zone.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line390">390</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line391">391</a>   def rfc2822</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line392">392</a>     sprintf('%s, %02d %s %d %02d:%02d:%02d ',</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line393">393</a>       RFC2822_DAY_NAME[wday],</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line394">394</a>       day, RFC2822_MONTH_NAME[mon-1], year,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line395">395</a>       hour, min, sec) +</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line396">396</a>     if utc?</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line397">397</a>       '-0000'</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line398">398</a>     else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line399">399</a>       off = utc_offset</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line400">400</a>       sign = off &lt; 0 ? '-' : '+'</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line401">401</a>       sprintf('%s%02d%02d', sign, *(off.abs / 60).divmod(60))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line402">402</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line403">403</a>   end</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line404">404</a>   alias rfc822 rfc2822</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line405">405</a> </pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line406">406</a>   RFC2822_DAY_NAME = [</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line407">407</a>     'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line408">408</a>   ]</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line409">409</a>   RFC2822_MONTH_NAME = [</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line410">410</a>     'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line411">411</a>     'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line412">412</a>   ]</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line413">413</a> </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line414">414</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line415">415</a>   # Returns a string which represents the time as rfc1123-date of HTTP-date</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line416">416</a>   # defined by RFC 2616: </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line417">417</a>   # </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line418">418</a>   #   day-of-week, DD month-name CCYY hh:mm:ss GMT</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line419">419</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line420">420</a>   # Note that the result is always UTC (GMT).</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line421">421</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line422">422</a>   def httpdate</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line423">423</a>     t = dup.utc</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line424">424</a>     sprintf('%s, %02d %s %d %02d:%02d:%02d GMT',</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line425">425</a>       RFC2822_DAY_NAME[t.wday],</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line426">426</a>       t.day, RFC2822_MONTH_NAME[t.mon-1], t.year,</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line427">427</a>       t.hour, t.min, t.sec)</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line428">428</a>   end</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line429">429</a> </pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line430">430</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line431">431</a>   # Returns a string which represents the time as dateTime defined by XML</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line432">432</a>   # Schema:</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line433">433</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line434">434</a>   #   CCYY-MM-DDThh:mm:ssTZD</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line435">435</a>   #   CCYY-MM-DDThh:mm:ss.sssTZD</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line436">436</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line437">437</a>   # where TZD is Z or [+-]hh:mm.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line438">438</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line439">439</a>   # If self is a UTC time, Z is used as TZD.  [+-]hh:mm is used otherwise.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line440">440</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line441">441</a>   # +fractional_seconds+ specifies a number of digits of fractional seconds.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line442">442</a>   # Its default value is 0.</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line443">443</a>   #</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line444">444</a>   def xmlschema(fraction_digits=0)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line445">445</a>     sprintf('%d-%02d-%02dT%02d:%02d:%02d',</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line446">446</a>       year, mon, day, hour, min, sec) +</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line447">447</a>     if fraction_digits == 0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line448">448</a>       ''</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line449">449</a>     elsif fraction_digits &lt;= 6</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line450">450</a>       '.' + sprintf('%06d', usec)[0, fraction_digits]</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line451">451</a>     else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line452">452</a>       '.' + sprintf('%06d', usec) + '0' * (fraction_digits - 6)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line453">453</a>     end +</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line454">454</a>     if utc?</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line455">455</a>       'Z'</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line456">456</a>     else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line457">457</a>       off = utc_offset</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line458">458</a>       sign = off &lt; 0 ? '-' : '+'</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line459">459</a>       sprintf('%s%02d:%02d', sign, *(off.abs / 60).divmod(60))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line460">460</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line461">461</a>   end</pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line462">462</a>   alias iso8601 xmlschema</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line463">463</a> end</pre></td>
          </tr>
        
          
          
          <tr class="inferred">
            <td><pre><a name="line464">464</a> </pre></td>
          </tr>
        
          
          
          <tr class="marked">
            <td><pre><a name="line465">465</a> if __FILE__ == $0</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line466">466</a>   require 'test/unit'</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line467">467</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line468">468</a>   class TimeExtentionTest &lt; Test::Unit::TestCase # :nodoc:</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line469">469</a>     def test_rfc822</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line470">470</a>       assert_equal(Time.utc(1976, 8, 26, 14, 30) + 4 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line471">471</a>                    Time.rfc2822(&quot;26 Aug 76 14:30 EDT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line472">472</a>       assert_equal(Time.utc(1976, 8, 27, 9, 32) + 7 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line473">473</a>                    Time.rfc2822(&quot;27 Aug 76 09:32 PDT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line474">474</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line475">475</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line476">476</a>     def test_rfc2822</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line477">477</a>       assert_equal(Time.utc(1997, 11, 21, 9, 55, 6) + 6 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line478">478</a>                    Time.rfc2822(&quot;Fri, 21 Nov 1997 09:55:06 -0600&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line479">479</a>       assert_equal(Time.utc(2003, 7, 1, 10, 52, 37) - 2 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line480">480</a>                    Time.rfc2822(&quot;Tue, 1 Jul 2003 10:52:37 +0200&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line481">481</a>       assert_equal(Time.utc(1997, 11, 21, 10, 1, 10) + 6 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line482">482</a>                    Time.rfc2822(&quot;Fri, 21 Nov 1997 10:01:10 -0600&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line483">483</a>       assert_equal(Time.utc(1997, 11, 21, 11, 0, 0) + 6 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line484">484</a>                    Time.rfc2822(&quot;Fri, 21 Nov 1997 11:00:00 -0600&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line485">485</a>       assert_equal(Time.utc(1997, 11, 24, 14, 22, 1) + 8 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line486">486</a>                    Time.rfc2822(&quot;Mon, 24 Nov 1997 14:22:01 -0800&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line487">487</a>       begin</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line488">488</a>         Time.at(-1)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line489">489</a>       rescue ArgumentError</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line490">490</a>         # ignore</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line491">491</a>       else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line492">492</a>         assert_equal(Time.utc(1969, 2, 13, 23, 32, 54) + 3 * 3600 + 30 * 60,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line493">493</a>                      Time.rfc2822(&quot;Thu, 13 Feb 1969 23:32:54 -0330&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line494">494</a>         assert_equal(Time.utc(1969, 2, 13, 23, 32, 0) + 3 * 3600 + 30 * 60,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line495">495</a>                      Time.rfc2822(&quot; Thu,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line496">496</a>         13</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line497">497</a>           Feb</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line498">498</a>             1969</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line499">499</a>         23:32</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line500">500</a>                  -0330 (Newfoundland Time)&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line501">501</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line502">502</a>       assert_equal(Time.utc(1997, 11, 21, 9, 55, 6),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line503">503</a>                    Time.rfc2822(&quot;21 Nov 97 09:55:06 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line504">504</a>       assert_equal(Time.utc(1997, 11, 21, 9, 55, 6) + 6 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line505">505</a>                    Time.rfc2822(&quot;Fri, 21 Nov 1997 09 :   55  :  06 -0600&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line506">506</a>       assert_raise(ArgumentError) {</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line507">507</a>         # inner comment is not supported.</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line508">508</a>         Time.rfc2822(&quot;Fri, 21 Nov 1997 09(comment):   55  :  06 -0600&quot;)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line509">509</a>       }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line510">510</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line511">511</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line512">512</a>     def test_rfc2616</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line513">513</a>       t = Time.utc(1994, 11, 6, 8, 49, 37)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line514">514</a>       assert_equal(t, Time.httpdate(&quot;Sun, 06 Nov 1994 08:49:37 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line515">515</a>       assert_equal(t, Time.httpdate(&quot;Sunday, 06-Nov-94 08:49:37 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line516">516</a>       assert_equal(t, Time.httpdate(&quot;Sun Nov  6 08:49:37 1994&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line517">517</a>       assert_equal(Time.utc(1995, 11, 15, 6, 25, 24),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line518">518</a>                    Time.httpdate(&quot;Wed, 15 Nov 1995 06:25:24 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line519">519</a>       assert_equal(Time.utc(1995, 11, 15, 4, 58, 8),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line520">520</a>                    Time.httpdate(&quot;Wed, 15 Nov 1995 04:58:08 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line521">521</a>       assert_equal(Time.utc(1994, 11, 15, 8, 12, 31),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line522">522</a>                    Time.httpdate(&quot;Tue, 15 Nov 1994 08:12:31 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line523">523</a>       assert_equal(Time.utc(1994, 12, 1, 16, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line524">524</a>                    Time.httpdate(&quot;Thu, 01 Dec 1994 16:00:00 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line525">525</a>       assert_equal(Time.utc(1994, 10, 29, 19, 43, 31),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line526">526</a>                    Time.httpdate(&quot;Sat, 29 Oct 1994 19:43:31 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line527">527</a>       assert_equal(Time.utc(1994, 11, 15, 12, 45, 26),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line528">528</a>                    Time.httpdate(&quot;Tue, 15 Nov 1994 12:45:26 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line529">529</a>       assert_equal(Time.utc(1999, 12, 31, 23, 59, 59),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line530">530</a>                    Time.httpdate(&quot;Fri, 31 Dec 1999 23:59:59 GMT&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line531">531</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line532">532</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line533">533</a>     def test_rfc3339</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line534">534</a>       t = Time.utc(1985, 4, 12, 23, 20, 50, 520000)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line535">535</a>       s = &quot;1985-04-12T23:20:50.52Z&quot;</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line536">536</a>       assert_equal(t, Time.iso8601(s))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line537">537</a>       assert_equal(s, t.iso8601(2))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line538">538</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line539">539</a>       t = Time.utc(1996, 12, 20, 0, 39, 57)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line540">540</a>       s = &quot;1996-12-19T16:39:57-08:00&quot;</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line541">541</a>       assert_equal(t, Time.iso8601(s))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line542">542</a>       # There is no way to generate time string with arbitrary timezone.</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line543">543</a>       s = &quot;1996-12-20T00:39:57Z&quot;</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line544">544</a>       assert_equal(t, Time.iso8601(s))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line545">545</a>       assert_equal(s, t.iso8601)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line546">546</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line547">547</a>       t = Time.utc(1990, 12, 31, 23, 59, 60)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line548">548</a>       s = &quot;1990-12-31T23:59:60Z&quot;</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line549">549</a>       assert_equal(t, Time.iso8601(s))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line550">550</a>       # leap second is representable only if timezone file has it.</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line551">551</a>       s = &quot;1990-12-31T15:59:60-08:00&quot;</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line552">552</a>       assert_equal(t, Time.iso8601(s))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line553">553</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line554">554</a>       begin</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line555">555</a>         Time.at(-1)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line556">556</a>       rescue ArgumentError</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line557">557</a>         # ignore</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line558">558</a>       else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line559">559</a>         t = Time.utc(1937, 1, 1, 11, 40, 27, 870000)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line560">560</a>         s = &quot;1937-01-01T12:00:27.87+00:20&quot;</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line561">561</a>         assert_equal(t, Time.iso8601(s))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line562">562</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line563">563</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line564">564</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line565">565</a>     # http://www.w3.org/TR/xmlschema-2/</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line566">566</a>     def test_xmlschema</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line567">567</a>       assert_equal(Time.utc(1999, 5, 31, 13, 20, 0) + 5 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line568">568</a>                    Time.xmlschema(&quot;1999-05-31T13:20:00-05:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line569">569</a>       assert_equal(Time.local(2000, 1, 20, 12, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line570">570</a>                    Time.xmlschema(&quot;2000-01-20T12:00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line571">571</a>       assert_equal(Time.utc(2000, 1, 20, 12, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line572">572</a>                    Time.xmlschema(&quot;2000-01-20T12:00:00Z&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line573">573</a>       assert_equal(Time.utc(2000, 1, 20, 12, 0, 0) - 12 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line574">574</a>                    Time.xmlschema(&quot;2000-01-20T12:00:00+12:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line575">575</a>       assert_equal(Time.utc(2000, 1, 20, 12, 0, 0) + 13 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line576">576</a>                    Time.xmlschema(&quot;2000-01-20T12:00:00-13:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line577">577</a>       assert_equal(Time.utc(2000, 3, 4, 23, 0, 0) - 3 * 3600,</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line578">578</a>                    Time.xmlschema(&quot;2000-03-04T23:00:00+03:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line579">579</a>       assert_equal(Time.utc(2000, 3, 4, 20, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line580">580</a>                    Time.xmlschema(&quot;2000-03-04T20:00:00Z&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line581">581</a>       assert_equal(Time.local(2000, 1, 15, 0, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line582">582</a>                    Time.xmlschema(&quot;2000-01-15T00:00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line583">583</a>       assert_equal(Time.local(2000, 2, 15, 0, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line584">584</a>                    Time.xmlschema(&quot;2000-02-15T00:00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line585">585</a>       assert_equal(Time.local(2000, 1, 15, 12, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line586">586</a>                    Time.xmlschema(&quot;2000-01-15T12:00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line587">587</a>       assert_equal(Time.utc(2000, 1, 16, 12, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line588">588</a>                    Time.xmlschema(&quot;2000-01-16T12:00:00Z&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line589">589</a>       assert_equal(Time.local(2000, 1, 1, 12, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line590">590</a>                    Time.xmlschema(&quot;2000-01-01T12:00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line591">591</a>       assert_equal(Time.utc(1999, 12, 31, 23, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line592">592</a>                    Time.xmlschema(&quot;1999-12-31T23:00:00Z&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line593">593</a>       assert_equal(Time.local(2000, 1, 16, 12, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line594">594</a>                    Time.xmlschema(&quot;2000-01-16T12:00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line595">595</a>       assert_equal(Time.local(2000, 1, 16, 0, 0, 0),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line596">596</a>                    Time.xmlschema(&quot;2000-01-16T00:00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line597">597</a>       assert_equal(Time.utc(2000, 1, 12, 12, 13, 14),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line598">598</a>                    Time.xmlschema(&quot;2000-01-12T12:13:14Z&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line599">599</a>       assert_equal(Time.utc(2001, 4, 17, 19, 23, 17, 300000),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line600">600</a>                    Time.xmlschema(&quot;2001-04-17T19:23:17.3Z&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line601">601</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line602">602</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line603">603</a>     def test_encode_xmlschema</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line604">604</a>       t = Time.utc(2001, 4, 17, 19, 23, 17, 300000)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line605">605</a>       assert_equal(&quot;2001-04-17T19:23:17Z&quot;, t.xmlschema)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line606">606</a>       assert_equal(&quot;2001-04-17T19:23:17.3Z&quot;, t.xmlschema(1))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line607">607</a>       assert_equal(&quot;2001-04-17T19:23:17.300000Z&quot;, t.xmlschema(6))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line608">608</a>       assert_equal(&quot;2001-04-17T19:23:17.3000000Z&quot;, t.xmlschema(7))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line609">609</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line610">610</a>       t = Time.utc(2001, 4, 17, 19, 23, 17, 123456)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line611">611</a>       assert_equal(&quot;2001-04-17T19:23:17.1234560Z&quot;, t.xmlschema(7))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line612">612</a>       assert_equal(&quot;2001-04-17T19:23:17.123456Z&quot;, t.xmlschema(6))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line613">613</a>       assert_equal(&quot;2001-04-17T19:23:17.12345Z&quot;, t.xmlschema(5))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line614">614</a>       assert_equal(&quot;2001-04-17T19:23:17.1Z&quot;, t.xmlschema(1))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line615">615</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line616">616</a>       begin</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line617">617</a>         Time.at(-1)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line618">618</a>       rescue ArgumentError</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line619">619</a>         # ignore</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line620">620</a>       else</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line621">621</a>         t = Time.utc(1960, 12, 31, 23, 0, 0, 123456)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line622">622</a>         assert_equal(&quot;1960-12-31T23:00:00.123456Z&quot;, t.xmlschema(6))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line623">623</a>       end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line624">624</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line625">625</a>       assert_equal(249, Time.xmlschema(&quot;2008-06-05T23:49:23.000249+09:00&quot;).usec)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line626">626</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line627">627</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line628">628</a>     def test_completion</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line629">629</a>       now = Time.local(2001,11,29,21,26,35)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line630">630</a>       assert_equal(Time.local( 2001,11,29,21,12),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line631">631</a>                    Time.parse(&quot;2001/11/29 21:12&quot;, now))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line632">632</a>       assert_equal(Time.local( 2001,11,29),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line633">633</a>                    Time.parse(&quot;2001/11/29&quot;, now))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line634">634</a>       assert_equal(Time.local( 2001,11,29),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line635">635</a>                    Time.parse(     &quot;11/29&quot;, now))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line636">636</a>       #assert_equal(Time.local(2001,11,1), Time.parse(&quot;Nov&quot;, now))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line637">637</a>       assert_equal(Time.local( 2001,11,29,10,22),</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line638">638</a>                    Time.parse(           &quot;10:22&quot;, now))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line639">639</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line640">640</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line641">641</a>     def test_invalid</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line642">642</a>       # They were actually used in some web sites.</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line643">643</a>       assert_raise(ArgumentError) { Time.httpdate(&quot;1 Dec 2001 10:23:57 GMT&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line644">644</a>       assert_raise(ArgumentError) { Time.httpdate(&quot;Sat, 1 Dec 2001 10:25:42 GMT&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line645">645</a>       assert_raise(ArgumentError) { Time.httpdate(&quot;Sat,  1-Dec-2001 10:53:55 GMT&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line646">646</a>       assert_raise(ArgumentError) { Time.httpdate(&quot;Saturday, 01-Dec-2001 10:15:34 GMT&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line647">647</a>       assert_raise(ArgumentError) { Time.httpdate(&quot;Saturday, 01-Dec-101 11:10:07 GMT&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line648">648</a>       assert_raise(ArgumentError) { Time.httpdate(&quot;Fri, 30 Nov 2001 21:30:00 JST&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line649">649</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line650">650</a>       # They were actually used in some mails.</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line651">651</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;01-5-20&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line652">652</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;7/21/00&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line653">653</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;2001-8-28&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line654">654</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;00-5-6 1:13:06&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line655">655</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;2001-9-27 9:36:49&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line656">656</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;2000-12-13 11:01:11&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line657">657</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;2001/10/17 04:29:55&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line658">658</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;9/4/2001 9:23:19 PM&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line659">659</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;01 Nov 2001 09:04:31&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line660">660</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;13 Feb 2001 16:4 GMT&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line661">661</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;01 Oct 00 5:41:19 PM&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line662">662</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;2 Jul 00 00:51:37 JST&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line663">663</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;01 11 2001 06:55:57 -0500&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line664">664</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;18 \343\366\356\341\370 2000&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line665">665</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Fri, Oct 2001  18:53:32&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line666">666</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Fri, 2 Nov 2001 03:47:54&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line667">667</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Fri, 27 Jul 2001 11.14.14 +0200&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line668">668</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Thu, 2 Nov 2000 04:13:53 -600&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line669">669</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Wed, 5 Apr 2000 22:57:09 JST&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line670">670</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Mon, 11 Sep 2000 19:47:33 00000&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line671">671</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Fri, 28 Apr 2000 20:40:47 +-900&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line672">672</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Fri, 19 Jan 2001 8:15:36 AM -0500&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line673">673</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Thursday, Sep 27 2001 7:42:35 AM EST&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line674">674</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;3/11/2001 1:31:57 PM Pacific Daylight Time&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line675">675</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Mi, 28 Mrz 2001 11:51:36&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line676">676</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;P, 30 sept 2001 23:03:14&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line677">677</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;fr, 11 aug 2000 18:39:22&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line678">678</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Fr, 21 Sep 2001 17:44:03 -1000&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line679">679</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Mo, 18 Jun 2001 19:21:40 -1000&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line680">680</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;l\366, 12 aug 2000 18:53:20&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line681">681</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;l\366, 26 maj 2001 00:15:58&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line682">682</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Dom, 30 Sep 2001 17:36:30&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line683">683</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;%&amp;, 31 %2/ 2000 15:44:47 -0500&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line684">684</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;dom, 26 ago 2001 03:57:07 -0300&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line685">685</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;ter, 04 set 2001 16:27:58 -0300&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line686">686</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Wen, 3 oct 2001 23:17:49 -0400&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line687">687</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Wen, 3 oct 2001 23:17:49 -0400&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line688">688</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;ele, 11 h: 2000 12:42:15 -0500&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line689">689</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Tue, 14 Aug 2001 3:55:3 +0200&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line690">690</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Fri, 25 Aug 2000 9:3:48 +0800&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line691">691</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Fri, 1 Dec 2000 0:57:50 EST&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line692">692</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Mon, 7 May 2001 9:39:51 +0200&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line693">693</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Wed, 1 Aug 2001 16:9:15 +0200&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line694">694</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Wed, 23 Aug 2000 9:17:36 +0800&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line695">695</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Fri, 11 Aug 2000 10:4:42 +0800&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line696">696</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Sat, 15 Sep 2001 13:22:2 +0300&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line697">697</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Wed,16 \276\305\324\302 2001 20:06:25 +0800&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line698">698</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;Wed,7 \312\256\322\273\324\302 2001 23:47:22 +0800&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line699">699</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;=?iso-8859-1?Q?(=C5=DA),?= 10   2 2001 23:32:26 +0900 (JST)&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line700">700</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;\307\341\314\343\332\311, 30 \344\346\335\343\310\321 2001 10:01:06&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line701">701</a>       assert_raise(ArgumentError) { Time.rfc2822(&quot;=?iso-8859-1?Q?(=BF=E5),?= 12  =?iso-8859-1?Q?9=B7=EE?= 2001 14:52:41\n+0900 (JST)&quot;) }</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line702">702</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line703">703</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line704">704</a>     def test_zone_0000</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line705">705</a>       assert_equal(true, Time.parse(&quot;2000-01-01T00:00:00Z&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line706">706</a>       assert_equal(true, Time.parse(&quot;2000-01-01T00:00:00-00:00&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line707">707</a>       assert_equal(false, Time.parse(&quot;2000-01-01T00:00:00+00:00&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line708">708</a>       assert_equal(false, Time.parse(&quot;Sat, 01 Jan 2000 00:00:00 GMT&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line709">709</a>       assert_equal(true, Time.parse(&quot;Sat, 01 Jan 2000 00:00:00 -0000&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line710">710</a>       assert_equal(false, Time.parse(&quot;Sat, 01 Jan 2000 00:00:00 +0000&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line711">711</a>       assert_equal(false, Time.rfc2822(&quot;Sat, 01 Jan 2000 00:00:00 GMT&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line712">712</a>       assert_equal(true, Time.rfc2822(&quot;Sat, 01 Jan 2000 00:00:00 -0000&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line713">713</a>       assert_equal(false, Time.rfc2822(&quot;Sat, 01 Jan 2000 00:00:00 +0000&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line714">714</a>       assert_equal(true, Time.rfc2822(&quot;Sat, 01 Jan 2000 00:00:00 UTC&quot;).utc?)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line715">715</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line716">716</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line717">717</a>     def test_parse_leap_second</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line718">718</a>       t = Time.utc(1998,12,31,23,59,59)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line719">719</a>       assert_equal(t, Time.parse(&quot;Thu Dec 31 23:59:59 UTC 1998&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line720">720</a>       assert_equal(t, Time.parse(&quot;Fri Dec 31 23:59:59 -0000 1998&quot;));t.localtime</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line721">721</a>       assert_equal(t, Time.parse(&quot;Fri Jan  1 08:59:59 +0900 1999&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line722">722</a>       assert_equal(t, Time.parse(&quot;Fri Jan  1 00:59:59 +0100 1999&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line723">723</a>       assert_equal(t, Time.parse(&quot;Fri Dec 31 23:59:59 +0000 1998&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line724">724</a>       assert_equal(t, Time.parse(&quot;Fri Dec 31 22:59:59 -0100 1998&quot;));t.utc</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line725">725</a>       t += 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line726">726</a>       assert_equal(t, Time.parse(&quot;Thu Dec 31 23:59:60 UTC 1998&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line727">727</a>       assert_equal(t, Time.parse(&quot;Fri Dec 31 23:59:60 -0000 1998&quot;));t.localtime</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line728">728</a>       assert_equal(t, Time.parse(&quot;Fri Jan  1 08:59:60 +0900 1999&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line729">729</a>       assert_equal(t, Time.parse(&quot;Fri Jan  1 00:59:60 +0100 1999&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line730">730</a>       assert_equal(t, Time.parse(&quot;Fri Dec 31 23:59:60 +0000 1998&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line731">731</a>       assert_equal(t, Time.parse(&quot;Fri Dec 31 22:59:60 -0100 1998&quot;));t.utc</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line732">732</a>       t += 1 if t.sec == 60</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line733">733</a>       assert_equal(t, Time.parse(&quot;Thu Jan  1 00:00:00 UTC 1999&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line734">734</a>       assert_equal(t, Time.parse(&quot;Fri Jan  1 00:00:00 -0000 1999&quot;));t.localtime</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line735">735</a>       assert_equal(t, Time.parse(&quot;Fri Jan  1 09:00:00 +0900 1999&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line736">736</a>       assert_equal(t, Time.parse(&quot;Fri Jan  1 01:00:00 +0100 1999&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line737">737</a>       assert_equal(t, Time.parse(&quot;Fri Jan  1 00:00:00 +0000 1999&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line738">738</a>       assert_equal(t, Time.parse(&quot;Fri Dec 31 23:00:00 -0100 1998&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line739">739</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line740">740</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line741">741</a>     def test_rfc2822_leap_second</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line742">742</a>       t = Time.utc(1998,12,31,23,59,59)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line743">743</a>       assert_equal(t, Time.rfc2822(&quot;Thu, 31 Dec 1998 23:59:59 UTC&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line744">744</a>       assert_equal(t, Time.rfc2822(&quot;Fri, 31 Dec 1998 23:59:59 -0000&quot;));t.localtime                                  </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line745">745</a>       assert_equal(t, Time.rfc2822(&quot;Fri,  1 Jan 1999 08:59:59 +0900&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line746">746</a>       assert_equal(t, Time.rfc2822(&quot;Fri,  1 Jan 1999 00:59:59 +0100&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line747">747</a>       assert_equal(t, Time.rfc2822(&quot;Fri, 31 Dec 1998 23:59:59 +0000&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line748">748</a>       assert_equal(t, Time.rfc2822(&quot;Fri, 31 Dec 1998 22:59:59 -0100&quot;));t.utc                                  </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line749">749</a>       t += 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line750">750</a>       assert_equal(t, Time.rfc2822(&quot;Thu, 31 Dec 1998 23:59:60 UTC&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line751">751</a>       assert_equal(t, Time.rfc2822(&quot;Fri, 31 Dec 1998 23:59:60 -0000&quot;));t.localtime                                  </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line752">752</a>       assert_equal(t, Time.rfc2822(&quot;Fri,  1 Jan 1999 08:59:60 +0900&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line753">753</a>       assert_equal(t, Time.rfc2822(&quot;Fri,  1 Jan 1999 00:59:60 +0100&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line754">754</a>       assert_equal(t, Time.rfc2822(&quot;Fri, 31 Dec 1998 23:59:60 +0000&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line755">755</a>       assert_equal(t, Time.rfc2822(&quot;Fri, 31 Dec 1998 22:59:60 -0100&quot;));t.utc                                  </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line756">756</a>       t += 1 if t.sec == 60</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line757">757</a>       assert_equal(t, Time.rfc2822(&quot;Thu,  1 Jan 1999 00:00:00 UTC&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line758">758</a>       assert_equal(t, Time.rfc2822(&quot;Fri,  1 Jan 1999 00:00:00 -0000&quot;));t.localtime                                  </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line759">759</a>       assert_equal(t, Time.rfc2822(&quot;Fri,  1 Jan 1999 09:00:00 +0900&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line760">760</a>       assert_equal(t, Time.rfc2822(&quot;Fri,  1 Jan 1999 01:00:00 +0100&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line761">761</a>       assert_equal(t, Time.rfc2822(&quot;Fri,  1 Jan 1999 00:00:00 +0000&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line762">762</a>       assert_equal(t, Time.rfc2822(&quot;Fri, 31 Dec 1998 23:00:00 -0100&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line763">763</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line764">764</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line765">765</a>     def test_xmlschema_leap_second</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line766">766</a>       t = Time.utc(1998,12,31,23,59,59)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line767">767</a>       assert_equal(t, Time.xmlschema(&quot;1998-12-31T23:59:59Z&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line768">768</a>       assert_equal(t, Time.xmlschema(&quot;1998-12-31T23:59:59-00:00&quot;));t.localtime</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line769">769</a>       assert_equal(t, Time.xmlschema(&quot;1999-01-01T08:59:59+09:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line770">770</a>       assert_equal(t, Time.xmlschema(&quot;1999-01-01T00:59:59+01:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line771">771</a>       assert_equal(t, Time.xmlschema(&quot;1998-12-31T23:59:59+00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line772">772</a>       assert_equal(t, Time.xmlschema(&quot;1998-12-31T22:59:59-01:00&quot;));t.utc</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line773">773</a>       t += 1</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line774">774</a>       assert_equal(t, Time.xmlschema(&quot;1998-12-31T23:59:60Z&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line775">775</a>       assert_equal(t, Time.xmlschema(&quot;1998-12-31T23:59:60-00:00&quot;));t.localtime</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line776">776</a>       assert_equal(t, Time.xmlschema(&quot;1999-01-01T08:59:60+09:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line777">777</a>       assert_equal(t, Time.xmlschema(&quot;1999-01-01T00:59:60+01:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line778">778</a>       assert_equal(t, Time.xmlschema(&quot;1998-12-31T23:59:60+00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line779">779</a>       assert_equal(t, Time.xmlschema(&quot;1998-12-31T22:59:60-01:00&quot;));t.utc</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line780">780</a>       t += 1 if t.sec == 60</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line781">781</a>       assert_equal(t, Time.xmlschema(&quot;1999-01-01T00:00:00Z&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line782">782</a>       assert_equal(t, Time.xmlschema(&quot;1999-01-01T00:00:00-00:00&quot;));t.localtime</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line783">783</a>       assert_equal(t, Time.xmlschema(&quot;1999-01-01T09:00:00+09:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line784">784</a>       assert_equal(t, Time.xmlschema(&quot;1999-01-01T01:00:00+01:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line785">785</a>       assert_equal(t, Time.xmlschema(&quot;1999-01-01T00:00:00+00:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line786">786</a>       assert_equal(t, Time.xmlschema(&quot;1998-12-31T23:00:00-01:00&quot;))</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line787">787</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line788">788</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line789">789</a>     def test_ruby_talk_152866</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line790">790</a>       t = Time::xmlschema('2005-08-30T22:48:00-07:00')</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line791">791</a>       assert_equal(31, t.day)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line792">792</a>       assert_equal(8, t.mon)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line793">793</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line794">794</a> </pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line795">795</a>     def test_parse_fraction</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line796">796</a>       assert_equal(500000, Time.parse(&quot;2000-01-01T00:00:00.5+00:00&quot;).tv_usec)</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line797">797</a>     end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line798">798</a>   end</pre></td>
          </tr>
        
          
          
          <tr class="uncovered">
            <td><pre><a name="line799">799</a> end</pre></td>
          </tr>
        
      </tbody>
    </table>

    <p>Generated on Tue Aug 16 07:08:48 -0400 2016 with <a href="http://github.com/relevance/rcov">rcov 1.0.0</a></p>

  </body>
</html>
